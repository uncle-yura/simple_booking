{% extends "base_generic.html" %}

{% load crispy_forms_tags %}

{% block content %}

<div class="container py-5">
  <div class="card p-4">
    <h1 class="font-weight-bold">Login</h1>
    <hr>
    <br>
    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}
        {{ form|crispy }}
        <br>
      <input class="btn btn-primary" type="submit" value="login" />
      {% url 'login' as login_url %}
      {% if next in login_url %}
      <input type="hidden" name="next" value="{% url 'index' %}" />
      {% else %}
      <input type="hidden" name="next" value="{{ next }}" />
      {% endif %}
    </form>

    <br>
    {# Assumes you setup the password_reset view in your URLconf #}
    <p><a href="{% url 'password_reset' %}">Lost password?</a></p>  

    {% include 'includes/social_login.html' %}
  </div>
</div>

{% endblock %}
